<div class="container">
  <div class="row d-flex">
    <div class="col-sm-12 col-md-4">
      <% if current_user.photo.attached? %>
        <%= cl_image_tag @user.photo.key, :width=>300, :height=>300, :gravity=>"face", :radius=>"max", :crop=>"fill", class:'avatar-profile'%>
      <% else %>
        <i class="fas fa-user-circle fa-2x"></i>
      <% end %>
    </div>
    <div class="col-sm-12 col-md-8">
      <h1><%= "#{@user.first_name} #{@user.last_name}" %></h1>
      <h4><%= "#{@user.country}" %></h4>
    </div>
    <div class="row">
      <h2>My Listings (<%= @user.listings.count %>)</h2>
      <div class="">
        <% @user.listings.each do |listing| %>
          <%= render './shared/card', listing: listing %>
        <% end %>
      </div>
    </div>
</div>


<!-- # if user is equal to current_user,
# we will show the users reviews, listings and transactions
# else we only show reviews and listings
 -->

<h2>My Purchases (<%= @user.transactions.count %>)</h2>
	<div class="cards-listing row d-flex justify-content-flex-start align-items-center">
		<% @user.transactions.each do |transaction|%>
      <%= render './shared/transaction_card', transaction: transaction %>
		<% end %>
	</div>

  <!-- # if user is equal to current_user,
  # we will show the users reviews, listings and transactions
  # else we only show reviews and listings
  -->
</div>
